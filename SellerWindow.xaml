<Window x:Class="Projekat_A_Prodavnica_racunarske_opreme.SellerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Projekat_A_Prodavnica_racunarske_opreme.Util"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit" 
        mc:Ignorable="d"
        Title="Computer equipment store" Height="500" Width="1500" WindowState="Maximized">
    <Window.Resources>
        <local:EmptyToVisibilityConverter x:Key="EmptyToVisibilityConverter"/>
    </Window.Resources>
    <Grid>
        <TabControl>
            <TabItem x:Name="Products" Header="Products">
                <DockPanel Margin="10">
                    <StackPanel Margin="0,0,0,10">
                        <xctk:WatermarkTextBox x:Name="txtFilterId" Watermark="Filter by ID" Width="130" Margin="5"/>
                        <xctk:WatermarkTextBox x:Name="txtFilterName" Watermark="Filter by Name" Width="130" Margin="5"/>
                        <xctk:WatermarkTextBox x:Name="txtFilterCategory" Watermark="Filter by Category" Width="130" Margin="5"/>
                        <Button x:Name="btnFilter" Content="Filter" Click="BtnFilter_Click" Margin="5"/>
                        <Button x:Name="btnClear" Content="Clear" Click="BtnClear_Click" Margin="5"/>
                    </StackPanel>
                    <DataGrid DockPanel.Dock="Top" x:Name="ProductsDetails" AutoGenerateColumns="False" IsReadOnly="True" ItemsSource="{Binding FilteredProducts}"
                                  Margin="5" MaxHeight="630"  HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                        <DataGrid.Columns>
                            <DataGridTextColumn x:Name="ProductId" Header="ProductId" Binding="{Binding ProductId}" />
                            <DataGridTextColumn x:Name="Name" Header="Name" Binding="{Binding PName}"/>
                            <DataGridTextColumn x:Name="Category" Header="Category" Binding="{Binding Category}" />
                            <DataGridTextColumn x:Name="Quantity" Header="Quantity [pcs]" Binding="{Binding Quantity}"/>
                            <DataGridTextColumn x:Name="Price" Header="Price [KM]" Binding="{Binding Price}"/>
                            <DataGridTextColumn x:Name="Description" Header="Description" Binding="{Binding Description}"/>
                        </DataGrid.Columns>
                    </DataGrid>
                    <TextBlock x:Name="txtProductsData" Text="Nema podataka za prikaz" Width="200" Height="30" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="15"
                                   FontWeight="Bold" FontSize="15"
                               Visibility="{Binding ElementName=ProductsDetails, Path=HasItems , Converter={StaticResource EmptyToVisibilityConverter}}"/>
                </DockPanel>
            </TabItem>
            <TabItem x:Name="CInvoice" Header="Create invoice">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="404*"/>
                        <ColumnDefinition Width="404*"/>
                        <ColumnDefinition Width="184*"/>
                    </Grid.ColumnDefinitions>
                    <GroupBox x:Name="gpInvoiceD" Grid.Column="2" Header="Invoice Details" Margin="10,10,1,10">
                        <StackPanel>
                            <Label x:Name="lbCustomer" Content="Customer:" Margin="5"/>
                            <xctk:WatermarkTextBox x:Name="txtName" Watermark="Name" HorizontalAlignment="Left" Width="150" Margin="5"/>
                            <xctk:WatermarkTextBox x:Name="txtSurrname" Watermark="Surrname" HorizontalAlignment="Left" Width="150" Margin="5"/>
                            <xctk:WatermarkTextBox x:Name="txtPhone" Watermark="Phone" HorizontalAlignment="Left" Width="150" Margin="5"/>
                            <Label x:Name="lbIssueDate" Content="Date of issue:" Margin="5"/>
                            <DatePicker x:Name="dpDate" Margin="0,0,0,10" FirstDayOfWeek="Monday"/>
                            <Label x:Name="lbTotal" Content="Total:" Margin="5"/>
                            <TextBox x:Name="txtTotal" IsReadOnly="True" FontWeight="Bold" Margin="0,0,0,20" Text="0.00" TextDecorations="{x:Null}"/>
                            <Button x:Name="btnSave" Content="Save invoice" Click="BtnSaveInvoice_Click" Height="40"/>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox x:Name="gpInvoiceI" Grid.Column="1" Header="Ivoice Items" Margin="10">
                        <StackPanel>
                            <DataGrid x:Name="dgInvoiceItems" AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True"
                                  MaxHeight="600" Width="550" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"
                                      ItemsSource="{Binding InvoiceItemsView}">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="ID" Binding="{Binding IdProizvoda}" Width="50"  IsReadOnly="True"/>
                                    <DataGridTextColumn x:Name="IName" Header="Name" Binding="{Binding Naziv}" Width="160"  IsReadOnly="True"/>
                                    <DataGridTextColumn x:Name="IQuantity" Header="Quantity [pcs]" Binding="{Binding Kolicina}" Width="120"  IsReadOnly="True"/>
                                    <DataGridTextColumn x:Name="IPrice" Header="Price [KM]" Binding="{Binding Cijena}" Width="100"  IsReadOnly="True"/>
                                    <DataGridTemplateColumn Width="100">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Button Content="-" ToolTip="Remove one item" Click="BtnRemoveOne_Click" IsEnabled="True"
                                                        Width="40" Height="25" Margin="2"/>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                            <TextBlock x:Name="txtInvoiceData" Text="Nema podataka za prikaz" Width="200" Height="30" 
                                   VerticalAlignment="Top" HorizontalAlignment="Left" Margin="15" FontWeight="Bold" FontSize="15"
                               Visibility="{Binding ElementName=dgInvoiceItems, Path=HasItems , Converter={StaticResource EmptyToVisibilityConverter}}"/>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox x:Name="gpAvaibleP" Grid.Column="0" Header="Avaible Products" Margin="10" >
                        <StackPanel>
                            <xctk:WatermarkTextBox x:Name="txtSearch" Margin="0,0,0,10"
                                            Watermark="Search by Name"
                                            TextChanged="TxtSearch_TextChanged"/>
                            <DataGrid x:Name="dgAvaibleProducts" AutoGenerateColumns="False" CanUserAddRows="False"
                                       MaxHeight="500" Width="550" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"
                                      ItemsSource="{Binding AllProductsForInvoiceView}">
                                <DataGrid.Columns>
                                    <DataGridTextColumn x:Name="AProductId" Header="ID" Binding="{Binding IdProizvoda}" Width="50"  IsReadOnly="True"/>
                                    <DataGridTextColumn x:Name="AName" Header="Name" Binding="{Binding Naziv}" Width="160"  IsReadOnly="True"/>
                                    <DataGridTextColumn x:Name="AQuantity" Header="Quantity [pcs]" Binding="{Binding Kolicina}" Width="120"  IsReadOnly="True"/>
                                    <DataGridTextColumn x:Name="APrice" Header="Price [KM]" Binding="{Binding Cijena}" Width="100"  IsReadOnly="True"/>
                                    <DataGridTemplateColumn  Width="100">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBox x:Name="tbQuantity" Width="20" Text="1" Margin="0,0,5,0"/>
                                                    <Button Content="+" ToolTip="Add one item" Click="BtnAddOne_Click" IsEnabled="True"
                                                        Width="40" Height="25" Margin="2"/>
                                                </StackPanel>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </DataGrid>
                            <TextBlock x:Name="txtAvaibleProductsData" Text="Nema podataka za prikaz" Width="200" Height="30" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="15"
                                   FontWeight="Bold" FontSize="15"
                               Visibility="{Binding ElementName=dgAvaibleProducts, Path=HasItems , Converter={StaticResource EmptyToVisibilityConverter}}"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem x:Name="ViewInvoice" Header="View all invoices">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="300"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <GroupBox x:Name="gpInvoices" Grid.Column="0" Header="Invoices" Margin="10,10,1,10">
                        <StackPanel>
                            <DataGrid x:Name="dgInvoices" AutoGenerateColumns="False" CanUserAddRows="False"
                                  VerticalScrollBarVisibility="Auto" MaxHeight="600"
                                  SelectionChanged="DgInvoices_SelectionChanged"
                                  ItemsSource="{Binding AllInvoicesView}">
                                <DataGrid.Columns>
                                    <DataGridTextColumn x:Name="InvoiceNumber" Header="Invoice Number" Binding="{Binding BrojFakture}" IsReadOnly="True"/>
                                    <DataGridTextColumn x:Name="Date" Header="Date of Issue" Binding="{Binding Datum_Izdavanja, StringFormat=\{0:d\}}" IsReadOnly="True"/>
                                </DataGrid.Columns>
                            </DataGrid>
                            <TextBlock x:Name="txtInvoicesData" Text="Nema podataka za prikaz" Width="200" Height="30" 
                                   VerticalAlignment="Top" HorizontalAlignment="Left" Margin="15" FontWeight="Bold" FontSize="15"
                               Visibility="{Binding ElementName=dgInvoices, Path=HasItems, Converter={StaticResource EmptyToVisibilityConverter}}"/>
                        </StackPanel>
                    </GroupBox>
                    <GroupBox x:Name="gpInvoiceDetails" Grid.Column="1" Header="Invoice Details" Margin="10,10,1,10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="1005*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0">
                                <Label x:Name="lbCustomerInvoiceD" Content="Customer:" Margin="5"/>
                                <TextBox x:Name="txtCName" HorizontalAlignment="Left"  Width="150" Margin="5" IsReadOnly="True"/>
                                <TextBox x:Name="txtCSurrname"  HorizontalAlignment="Left" Width="150" Margin="5" IsReadOnly="True"/>
                                <TextBox x:Name="txtCPhone"  HorizontalAlignment="Left" Width="150" Margin="5" IsReadOnly="True"/>
                            </StackPanel>
                            <StackPanel Grid.Column="1">
                                <Label x:Name="lbSeller" Content="Seller:" Margin="5"/>
                                <TextBox x:Name="txtSName" HorizontalAlignment="Left" Width="150" Margin="5" IsReadOnly="True"/>
                                <TextBox x:Name="txtSSurrname" HorizontalAlignment="Left" Width="150" Margin="5" IsReadOnly="True"/>
                            </StackPanel>
                            <StackPanel Grid.Column="2">
                                <DataGrid x:Name="dgItemsDetails" MaxHeight="500" Width="760" AutoGenerateColumns="False" CanUserAddRows="False"
                                          HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"
                                          ItemsSource="{Binding InvoiceDetailsView}">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn x:Name="ProductIdI" Header="ProductId" Binding="{Binding IdProizvoda}" IsReadOnly="True" />
                                        <DataGridTextColumn x:Name="NameI" Header="Name" Binding="{Binding Naziv}" IsReadOnly="True"/>
                                        <DataGridTextColumn x:Name="CategoryI" Header="Category" Binding="{Binding Kategorija}" IsReadOnly="True"/>
                                        <DataGridTextColumn x:Name="QuantityI" Header="Quantity [pcs]" Binding="{Binding Kolicina}" IsReadOnly="True"/>
                                        <DataGridTextColumn x:Name="PriceI" Header="Price [KM]" Binding="{Binding Cijena}" IsReadOnly="True"/>
                                        <DataGridTextColumn x:Name="AmountI" Header="Amount" Binding="{Binding Iznos}" IsReadOnly="True"/>
                                    </DataGrid.Columns>
                                </DataGrid>
                                <TextBlock x:Name="txtSum" Width="130"
                                            FontWeight="Bold" Margin="250,10,255,10"/>
                                <TextBlock x:Name="txtInvoiceDetailsData" Text="Nema podataka za prikaz" Width="200" Height="30" 
                                   VerticalAlignment="Top" HorizontalAlignment="Left" Margin="15" FontWeight="Bold" FontSize="15"
                                    Visibility="{Binding ElementName=dgItemsDetails, Path=HasItems, Converter={StaticResource EmptyToVisibilityConverter}}"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                </Grid>
            </TabItem>
            <TabItem x:Name="Settings" Header="Settings">
                <Grid>
                    <Label x:Name="Language" Content="Language:" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="10,10,0,0" FontSize="15" FontWeight="Bold"/>
                    <Label x:Name="Theme" Content="Theme:" HorizontalAlignment="Left" Margin="320,10,0,0" VerticalAlignment="Top" RenderTransformOrigin="-5.597,-1.438" FontSize="15" FontWeight="Bold"/>
                    <Button x:Name="BtnEnglish" Content="English" Click="BtnEnglish_Click" HorizontalAlignment="Left" Margin="10,56,0,0" VerticalAlignment="Top" Width="90"/>
                    <Button x:Name="BtnSerbian" Content="Serbian" Click="BtnSerbian_Click" HorizontalAlignment="Left" Margin="130,56,0,0" VerticalAlignment="Top" Width="90"/>
                    <Button x:Name="BtnLight" Content="Light" Click="BtnLight_Click" HorizontalAlignment="Left" Margin="320,56,0,0" VerticalAlignment="Top" Width="90"/>
                    <Button x:Name="BtnDark" Content="Dark" Click="BtnDark_Click" HorizontalAlignment="Left" Margin="440,56,0,0" VerticalAlignment="Top" Width="90"/>
                    <Button x:Name="BtnSilver" Content="Silver" Click="BtnSilver_Click" HorizontalAlignment="Left" Margin="560,56,0,0" VerticalAlignment="Top" Width="90"/>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>